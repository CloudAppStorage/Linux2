# Linux
# Конспект по курсу LPIC 105.2.

## Linux. Конспект по курсу LPIC 105.2.

## Часть 1. Создание простого bash скрипта.
Итак. 
Bash Скрипт - это скрипт, который исполняется системой линукс. на конце может быть расширение .sh
Любой bash скрипт должен начинаться с символов Shibang -то есть #!
После данного символа обозначается какой интерпретатор, то есть исполнитель языка будет использоваться например:
```bash
#!/bin/bash
```
Также есть основные элементы bash скрипта:
```bash
# ///коментарий строки, то есть можно написать так:
#комментарий строки
chown ///смена владельца файла. Посмотреть все возможные комбинации chown можно:
chown --help
chmod /// назначение прав, смена прав доступа. Посмотреть все возможные комбинации chmod можно:
chmod --help
SUID ///бит запуска от имени владельца
```
И опять пример простейшего Bash скрипта:
```bash
file /home/linux/script.sh
___________________________________
#!/bin/bash
#Question script
echo 'Are you hungry? ' ///задаем вопрос
read VALUE ///чтение переменной с клавиатуры
if [ $VALUE = "YES" ]; ///Сравниваем условие
then ///тогда
echo 'Make some dinner' ///Действие если да
else
echo 'Continue working' ///Действие если нет
fi ///Обозначаем конец скрипта.
```
И когда мы запустим этот скрипт, он спросит хотим ли мы есть и если мы ответим да, то он напишет: приготовь что-то поесть(по-английски), а если мы ответим нет, то напишет : Продолжай работать.
Чтобы все пользователи могли запустить срипт с правами владельца, нужно установить SUID бит командой 
```bash
chmod u+s /home/linux/script.sh ///установим SUID бит
```
Когда мы установим SUID бит, наш скрипт при команде ls -l станет красным и значит мы все сделали правильно.

## Часть 2. Программа test
У команды test есть несколько опций:
```bash
test [OPTIONS] [file]
Options:
+x - исполняемый файл
-e - файл существует
-eq - значения равны
-ne - значения не равны
-z - существует ли значение
...
///На выходе дает переменной $?:
///0 если результат положительный
/// не 0 если результат отрицательный
```
Примеры команды test:
```bash
///Проверить больше ли первое число второго
test 5 -gt 2
echo $?
```
или
```bash
[ 5 -gt 2 ]
echo ?
```
Практическое применение команды тест на файлах
С помощью команды test можно узнать является ли файл исполняемым.
```bash
///Проверим мой предыдущий скрипт
test -x script.sh
echo $?
#Вывод:
0
///То есть да, мой скрипт является исполняемым файлом.
```
И вот комбинирование команд:
```bash
test 100 -gt 50 && echo 'YES' || echo 'NO' ///Читается так: Если 100 меньше 50, то вывести YES, в другом случае вывести NO
///При выполнении этой команды вывод будет :
YES
```
## Часть 3. Условные выражения и подстановка команд.
Условные выражения:
```bash
if [условие]
then
///commands
else
///commands
fi
```
Подстановка команд это как создание функций, но только это больше используется в скриптах. То есть мы можем переменной передавать результат выполнения какой-либо функции.
Например:
```bash
S = $(ls -la)
///или
S = `ls -la`
```
И мы можем включить в любой скрипт отправку сообщений другому пользователю, но для этого нам нужна библиотека mailutils
```bash
mail -s "Subject" -b "Body" root ///root - пользователь
```
Напишем скрипт с подстановкой команд:
```bash
#!/bin/bash
x = $(date)
y = `uptime -p`
echo 'Today is $x , we are awake for $y'
```
Выполнение этого скрипта выведет информацию, что сегодня такое-то число и что компьютер работает столько то времени.
## Часть 4. Циклы.
Циклы в bash
Есть два варианта цикла:
1й вариант:
```bash
for x in 567
do
echo "number
$x"
done
```
2й вариант:
```bash
x = 10
while [$x -ne 20]
do
echo "number $x"
x = $(($x+1))
done
```
Продолжение следует...


#### ©Copyright Cloud App Storage
#### Информация, предоставленная на данной странице не разрешена к распространению без ведома создателя.
